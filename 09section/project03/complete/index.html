<!-- ## Project 3: Simple Casino Game

In this project, we will create a simple casino game using JavaScript. The game will generate three random numbers between 0 and 2. If all three numbers are the same, the player wins; otherwise, the player loses.

### Features

- Generate three random numbers between ["🍒", "🍋", "🍊", "7️⃣", "🎰", "💰", "🟡"]
- Check if all three numbers are the same
- Display a message if the player wins or loses

### Steps to complete the project

- Create an index.html file.
- Create a styles.css file for basic styling.
- Create a scripts.js file to write JavaScript logic.
- Link styles.css and scripts.js to the index.html file.

### Hints

- Use the `Math.random()` function to generate random numbers.
- Use the `if...else` statement to check if all three numbers are the same.
- Use the `document.getElementById()` function to display the message to the player. -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simple Casino Game</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
      }

      h1 {
        color: #333;
      }

      button {
        padding: 10px 20px;
        font-size: 16px;
        background-color: #007bff;
        color: #fff;
        border: none;
        cursor: pointer;
      }

      button:hover {
        background-color: #0056b3;
      }

      p {
        margin-top: 20px;
        font-size: 18px;
      }

      #result {
        font-size: 24px;
        font-weight: bold;
        color: #333;
      }

      .win {
        color: green;
      }

      .lose {
        color: red;
      }

      .slots {
        display: flex;
        justify-content: space-around;
        border: 1px solid black;
        width: 500px;
        margin: 20px auto;
        padding: 10px;
      }

      .slots div {
        padding: 40px;
        border: 1px solid black;
        display: flex;
        flex-direction: column;
        align-items: center;
        border-radius: 6px;
      }

      .slotOptions {
        flex: 1;
        font-size: 36px;
        font-weight: bold;
        color: #333;
        filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.5));
        border: 0.5px solid #333;
        padding: 10px;
      }

      #slot1,
      #slot2,
      #slot3 {
        width: 100px;
        height: 400px;
        overflow: scroll;
        scroll-snap-type: y mandatory;
        overflow-y: hidden;
      }

      /* //               .image {
//     overflow: hidden;
//     transition-duration: 0.8s;
//     transition-property: transform;
// }
// .image:hover {
//     transform: rotate(360deg);
//     -webkit-transform: rotate(360deg);
// } */

      .win {
        background-color: rgba(0, 0, 0, 0.5);
        transform: rotate3d(1, 1, 1, 360deg) scale(2);
        transition: transform 2s;
      }
    </style>
  </head>
  <body>
    <h1>Simple Casino Game</h1>
    <p>Press the "Play" button to start the game.</p>

    <h2>Slot Machine</h2>
    <p>Match all three numbers to win!</p>
    <p>Good luck!</p>
    <div class="slots">
      <div id="slot1"></div>
      <div id="slot2"></div>
      <div id="slot3"></div>
    </div>

    <button id="play">Play</button>
    <p id="result"></p>
    <!-- <script src="scripts.js"></script> -->
    <script>
      const playButton = document.getElementById("play");
      const resultElement = document.getElementById("result");
      const slot1Element = document.getElementById("slot1");
      const slot2Element = document.getElementById("slot2");
      const slot3Element = document.getElementById("slot3");

      const slotOptions = ["🍒", "🍋", "🍊", "7️⃣", "🎰", "💰", "🟡"];
      const slots = [slot1Element, slot2Element, slot3Element];
      let resultGrid = [[], [], []];

      document.onload = shuffleSlotsAndReset();

      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      function shuffleSlotsAndReset() {
        resultGrid = [[], [], []];
        slots.forEach((slot) => {
          slot.innerHTML = "";
          let shuffledOptions = shuffle(slotOptions);
          shuffledOptions = shuffledOptions
            .concat(shuffledOptions)
            .concat(shuffledOptions);

          // last 3

          shuffledOptions.slice(-3).forEach((option, index) => {
            resultGrid[index].push(option);
          });

          shuffledOptions.forEach((option) => {
            const p = document.createElement("p");
            p.textContent = option;
            p.classList.add("slotOptions");
            slot.appendChild(p);
          });
        });
      }

      playButton.addEventListener("click", function () {
        const winConditions = [
          [resultGrid[0][0], resultGrid[0][1], resultGrid[0][2]],
          [resultGrid[1][0], resultGrid[1][1], resultGrid[1][2]],
          [resultGrid[2][0], resultGrid[2][1], resultGrid[2][2]],
          [resultGrid[0][0], resultGrid[1][0], resultGrid[2][0]],
          [resultGrid[0][1], resultGrid[1][1], resultGrid[2][1]],
          [resultGrid[0][2], resultGrid[1][2], resultGrid[2][2]],
          [resultGrid[0][0], resultGrid[1][1], resultGrid[2][2]],
          [resultGrid[0][2], resultGrid[1][1], resultGrid[2][0]],
        ];

        const GRID_INDEXES = [
          [
            [0, 0],
            [0, 1],
            [0, 2],
          ],
          [
            [1, 0],
            [1, 1],
            [1, 2],
          ],
          [
            [2, 0],
            [2, 1],
            [2, 2],
          ],
          [
            [0, 0],
            [1, 0],
            [2, 0],
          ],
          [
            [0, 1],
            [1, 1],
            [2, 1],
          ],
          [
            [0, 2],
            [1, 2],
            [2, 2],
          ],
          [
            [0, 0],
            [1, 1],
            [2, 2],
          ],
          [
            [0, 2],
            [1, 1],
            [2, 0],
          ],
        ];

        // store winCondtion index
        let winConditionIndex = -1;

        const isWin = winConditions.some((condition, idx) => {
          const win = condition.every((value) => value === condition[0]);
          if (win) winConditionIndex = idx;

          return win;
        });

        if (playButton.innerText === "Reset") {
          slots.forEach((slot) => {
            slot.scrollTo({
              top: 0,
              behavior: "auto",
            });
          });

          shuffleSlotsAndReset();
          playButton.innerText = "Play";
          resultElement.textContent = "";
          return;
        } else {
          console.log("isWin =", isWin);

          if (isWin) {
            resultElement.textContent = "You win!";

            GRID_INDEXES[winConditionIndex].forEach((value, index) => {
              console.log("value", value, "index", index);

              const selector = `#slot${value[0] + 1} p:nth-child(${
                slotOptions.length * 3 - 3 + value[1] + 1
              })`;

              document.querySelector(selector).classList.add("win");
            });
          }

          slots.forEach((slot) => {
            slot.scrollTo({
              top: slot.scrollHeight,
              behavior: "smooth",
            });
          });
          playButton.innerText = "Reset";
        }
      });
    </script>
  </body>
</html>
